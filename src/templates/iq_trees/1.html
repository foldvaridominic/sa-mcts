



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.4.0.min.js"></script>
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.4.0.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="1e2e2519-c198-4b0c-a5d8-463e12e993ce" data-root-id="1163"></div>
            
          
        
      
      
        <script type="application/json" id="1525">
          {"190c49a1-06e1-4867-9c41-e224acda0524":{"roots":{"references":[{"attributes":{},"id":"1142","type":"ResetTool"},{"attributes":{},"id":"1143","type":"HelpTool"},{"attributes":{"overlay":{"id":"1192","type":"BoxAnnotation"}},"id":"1140","type":"BoxZoomTool"},{"attributes":{},"id":"1141","type":"SaveTool"},{"attributes":{"callback":null,"tooltips":"\n        &lt;div style='width:100px'&gt;\n            &lt;span style=\"font-size: 15px;\"&gt;Round: @x&lt;/span&gt;&lt;br&gt;\n            &lt;span style=\"font-size: 15px;\"&gt;Price: @y{(0)}&lt;/span&gt;&lt;br&gt;\n        &lt;/div&gt;\n        "},"id":"1144","type":"HoverTool"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1138","type":"PanTool"},{"id":"1139","type":"WheelZoomTool"},{"id":"1140","type":"BoxZoomTool"},{"id":"1141","type":"SaveTool"},{"id":"1142","type":"ResetTool"},{"id":"1143","type":"HelpTool"},{"id":"1144","type":"HoverTool"}]},"id":"1145","type":"Toolbar"},{"attributes":{},"id":"1078","type":"ResetTool"},{"attributes":{},"id":"1079","type":"WheelZoomTool"},{"attributes":{},"id":"1076","type":"ZoomOutTool"},{"attributes":{"overlay":{"id":"1185","type":"BoxAnnotation"}},"id":"1077","type":"BoxZoomTool"},{"attributes":{"callback":null,"overlay":{"id":"1184","type":"BoxAnnotation"}},"id":"1074","type":"BoxSelectTool"},{"attributes":{},"id":"1075","type":"ZoomInTool"},{"attributes":{"callback":null,"tooltips":"\n        &lt;div style='width:200px'&gt;\n            &lt;span style=\"font-size: 15px;\"&gt;Round: @round&lt;/span&gt;&lt;br&gt;\n            &lt;span style=\"font-size: 15px;\"&gt;Price: @price{(0)}&lt;/span&gt;&lt;br&gt;\n            &lt;span style=\"font-size: 15px;\"&gt;Parents: @parents&lt;/span&gt;&lt;br&gt;\n            &lt;span style=\"font-size: 15px;\"&gt;Halt: @halting_point&lt;/span&gt;&lt;br&gt;\n            &lt;span style=\"font-size: 15px;\"&gt;@name{safe}&lt;/span&gt;\n        &lt;/div&gt;\n        "},"id":"1072","type":"HoverTool"},{"attributes":{"callback":{"id":"1065","type":"CustomJS"}},"id":"1073","type":"TapTool"},{"attributes":{"text":"6 rounds; T0 = 0.5"},"id":"1071","type":"Title"},{"attributes":{"high":5.0,"low":1.0,"palette":["#FCFEA4","#FAFDA0","#F9FC9D","#F7FB99","#F6FA95","#F5F891","#F4F78D","#F3F689","#F2F485","#F2F381","#F1F27D","#F1F079","#F1EE74","#F1ED70","#F1EB6C","#F1E968","#F1E864","#F2E660","#F2E45D","#F3E259","#F3E056","#F3DE52","#F4DC4F","#F4DB4B","#F5D948","#F5D745","#F6D542","#F6D33F","#F7D13C","#F7CF3A","#F8CD37","#F8CB34","#F8C931","#F9C72F","#F9C52C","#F9C32A","#FAC128","#FABF25","#FABD23","#FABB21","#FBB91E","#FBB71C","#FBB51A","#FBB318","#FBB116","#FBB014","#FBAE12","#FBAC10","#FBAA0E","#FBA80D","#FBA60B","#FBA40A","#FBA208","#FBA007","#FB9E07","#FB9D06","#FB9B06","#FB9906","#FA9706","#FA9506","#FA9306","#FA9107","#F99008","#F98E08","#F98C09","#F88A0B","#F8880C","#F8870D","#F7850E","#F78310","#F68111","#F68012","#F57E14","#F57C15","#F47A16","#F37918","#F37719","#F2751A","#F2741C","#F1721D","#F0701E","#F06F1F","#EF6D21","#EE6C22","#ED6A23","#ED6825","#EC6726","#EB6527","#EA6428","#E9622A","#E8612B","#E75F2C","#E65E2D","#E65C2E","#E55B30","#E45A31","#E35832","#E25733","#E05634","#DF5436","#DE5337","#DD5238","#DC5039","#DB4F3A","#DA4E3B","#D94D3D","#D74B3E","#D64A3F","#D54940","#D44841","#D24742","#D14643","#D04544","#CF4446","#CD4247","#CC4148","#CB4049","#C93F4A","#C83E4B","#C73E4C","#C53D4D","#C43C4E","#C23B4F","#C13A50","#BF3951","#BE3852","#BD3753","#BB3754","#BA3655","#B83556","#B73456","#B53357","#B43358","#B23259","#B1315A","#AF315B","#AE305B","#AC2F5C","#AB2E5D","#A92E5E","#A72D5F","#A62C5F","#A42C60","#A32B61","#A12B61","#A02A62","#9E2963","#9C2963","#9B2864","#992864","#982765","#962666","#952666","#932567","#912567","#902468","#8E2468","#8D2369","#8B2269","#892269","#88216A","#86216A","#85206A","#83206B","#811F6B","#801F6B","#7E1E6C","#7D1D6C","#7B1D6C","#7A1C6D","#781C6D","#761B6D","#751B6D","#731A6D","#72196D","#70196E","#6E186E","#6D186E","#6B176E","#6A176E","#68166E","#66156E","#65156E","#63146E","#62146E","#60136E","#5F126E","#5D126E","#5B116E","#5A116D","#58106D","#570F6D","#550F6D","#530E6D","#520E6C","#500D6C","#4F0D6C","#4D0C6B","#4B0C6B","#4A0B6A","#480B6A","#460A69","#450A69","#430A68","#410967","#400966","#3E0966","#3C0965","#3B0964","#390962","#370961","#350960","#34095F","#32095D","#300A5C","#2E0A5A","#2D0A58","#2B0A56","#290B54","#270B52","#260B50","#240B4E","#220B4C","#200C4A","#1F0C47","#1D0C45","#1C0C43","#1A0B40","#190B3E","#170B3B","#160B39","#140B36","#130A34","#120A32","#10092F","#0F092D","#0E082A","#0D0828","#0B0726","#0A0723","#090621","#08061F","#07051D","#06041B","#050418","#040316","#040314","#030212","#020210","#02010E","#01010B","#010109","#010007","#000006","#000004","#000003"]},"id":"1094","type":"LinearColorMapper"},{"attributes":{},"id":"1095","type":"BasicTicker"},{"attributes":{"color_mapper":{"id":"1094","type":"LinearColorMapper"},"formatter":{"id":"1179","type":"BasicTickFormatter"},"label_standoff":12,"location":[0,0],"ticker":{"id":"1095","type":"BasicTicker"}},"id":"1096","type":"ColorBar"},{"attributes":{"line_alpha":0.5,"line_color":"navy","x":{"field":"x"},"y":{"field":"y"}},"id":"1159","type":"Line"},{"attributes":{"callback":null,"data":{"x":[1,2,3,4,5],"y":[1,2,3,4,5]},"selected":{"id":"1190","type":"Selection"},"selection_policy":{"id":"1191","type":"UnionRenderers"}},"id":"1158","type":"ColumnDataSource"},{"attributes":{},"id":"1092","type":"NodesAndLinkedEdges"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1155","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"navy"},"line_alpha":{"value":0.5},"line_color":{"value":"navy"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1154","type":"Circle"},{"attributes":{"source":{"id":"1153","type":"ColumnDataSource"}},"id":"1157","type":"CDSView"},{"attributes":{"data_source":{"id":"1153","type":"ColumnDataSource"},"glyph":{"id":"1154","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1155","type":"Circle"},"selection_glyph":null,"view":{"id":"1157","type":"CDSView"}},"id":"1156","type":"GlyphRenderer"},{"attributes":{"high":5.0,"high_color":"Black","low":1.0,"low_color":"Black","palette":["#FCFEA4","#FAFDA0","#F9FC9D","#F7FB99","#F6FA95","#F5F891","#F4F78D","#F3F689","#F2F485","#F2F381","#F1F27D","#F1F079","#F1EE74","#F1ED70","#F1EB6C","#F1E968","#F1E864","#F2E660","#F2E45D","#F3E259","#F3E056","#F3DE52","#F4DC4F","#F4DB4B","#F5D948","#F5D745","#F6D542","#F6D33F","#F7D13C","#F7CF3A","#F8CD37","#F8CB34","#F8C931","#F9C72F","#F9C52C","#F9C32A","#FAC128","#FABF25","#FABD23","#FABB21","#FBB91E","#FBB71C","#FBB51A","#FBB318","#FBB116","#FBB014","#FBAE12","#FBAC10","#FBAA0E","#FBA80D","#FBA60B","#FBA40A","#FBA208","#FBA007","#FB9E07","#FB9D06","#FB9B06","#FB9906","#FA9706","#FA9506","#FA9306","#FA9107","#F99008","#F98E08","#F98C09","#F88A0B","#F8880C","#F8870D","#F7850E","#F78310","#F68111","#F68012","#F57E14","#F57C15","#F47A16","#F37918","#F37719","#F2751A","#F2741C","#F1721D","#F0701E","#F06F1F","#EF6D21","#EE6C22","#ED6A23","#ED6825","#EC6726","#EB6527","#EA6428","#E9622A","#E8612B","#E75F2C","#E65E2D","#E65C2E","#E55B30","#E45A31","#E35832","#E25733","#E05634","#DF5436","#DE5337","#DD5238","#DC5039","#DB4F3A","#DA4E3B","#D94D3D","#D74B3E","#D64A3F","#D54940","#D44841","#D24742","#D14643","#D04544","#CF4446","#CD4247","#CC4148","#CB4049","#C93F4A","#C83E4B","#C73E4C","#C53D4D","#C43C4E","#C23B4F","#C13A50","#BF3951","#BE3852","#BD3753","#BB3754","#BA3655","#B83556","#B73456","#B53357","#B43358","#B23259","#B1315A","#AF315B","#AE305B","#AC2F5C","#AB2E5D","#A92E5E","#A72D5F","#A62C5F","#A42C60","#A32B61","#A12B61","#A02A62","#9E2963","#9C2963","#9B2864","#992864","#982765","#962666","#952666","#932567","#912567","#902468","#8E2468","#8D2369","#8B2269","#892269","#88216A","#86216A","#85206A","#83206B","#811F6B","#801F6B","#7E1E6C","#7D1D6C","#7B1D6C","#7A1C6D","#781C6D","#761B6D","#751B6D","#731A6D","#72196D","#70196E","#6E186E","#6D186E","#6B176E","#6A176E","#68166E","#66156E","#65156E","#63146E","#62146E","#60136E","#5F126E","#5D126E","#5B116E","#5A116D","#58106D","#570F6D","#550F6D","#530E6D","#520E6C","#500D6C","#4F0D6C","#4D0C6B","#4B0C6B","#4A0B6A","#480B6A","#460A69","#450A69","#430A68","#410967","#400966","#3E0966","#3C0965","#3B0964","#390962","#370961","#350960","#34095F","#32095D","#300A5C","#2E0A5A","#2D0A58","#2B0A56","#290B54","#270B52","#260B50","#240B4E","#220B4C","#200C4A","#1F0C47","#1D0C45","#1C0C43","#1A0B40","#190B3E","#170B3B","#160B39","#140B36","#130A34","#120A32","#10092F","#0F092D","#0E082A","#0D0828","#0B0726","#0A0723","#090621","#08061F","#07051D","#06041B","#050418","#040316","#040314","#030212","#020210","#02010E","#01010B","#010109","#010007","#000006","#000004","#000003"]},"id":"1098","type":"LinearColorMapper"},{"attributes":{"fill_color":{"field":"price","transform":{"id":"1098","type":"LinearColorMapper"}},"size":{"units":"screen","value":30}},"id":"1099","type":"Circle"},{"attributes":{"callback":null,"data":{"x":[1,2,3,4,5],"y":[1,2,3,4,5]},"selected":{"id":"1188","type":"Selection"},"selection_policy":{"id":"1189","type":"UnionRenderers"}},"id":"1153","type":"ColumnDataSource"},{"attributes":{"center":[{"id":"1059","type":"LabelSet"}],"left":[{"id":"1096","type":"ColorBar"}],"plot_width":1000,"renderers":[{"id":"1003","type":"GraphRenderer"}],"title":{"id":"1071","type":"Title"},"toolbar":{"id":"1082","type":"Toolbar"},"x_range":{"id":"1066","type":"Range1d"},"x_scale":{"id":"1167","type":"LinearScale"},"y_range":{"id":"1067","type":"Range1d"},"y_scale":{"id":"1165","type":"LinearScale"}},"id":"1068","type":"Plot"},{"attributes":{"args":{"base":"price","data":[4,5,3,1,2],"edge_data":{"end":[0],"line_width":[3.0],"start":[2]},"graph":{"id":"1003","type":"GraphRenderer"},"node_data":{"branch":[2,2,1,1,1],"color":["red","red","green","green","green"],"halting_point":[true,true,false,false,false],"index":[0,1,2,3,4],"name":["1 | 1&lt;br&gt;3 | 3","1 | 1&lt;br&gt;2 | 2","1 | 1","3 | 3","2 | 2"],"parents":[[1,3],[2,3],[],[],[]],"price":[4,5,3,1,2],"round":[4,5,3,1,2],"selected":[false,false,false,false,false]},"other":"round","y_pos":[-1.0,1.0]},"code":"\n        var start = parseInt(cb_obj.value[0])\n        var end = parseInt(cb_obj.value[1])\n\n        function filtFunc(arr_value, arr_index, array) {\n                let value = data[arr_index]\n                if (value &gt;= start &amp;&amp; value &lt;= end) {\n                    return true\n                    }\n            }\n\n        function mapFunc(arr_value, arr_index, array) {\n                let value = data[arr_index]\n                if (value &gt;= start &amp;&amp; value &lt;= end) {\n                    return arr_index\n                }\n            }\n        var new_base = node_data[base].filter(filtFunc)\n        var indices = node_data[base].map(mapFunc)\n        var new_other = node_data[other].filter((v,i) =&gt; indices.includes(i))\n        var new_index = node_data['index'].filter((v,i) =&gt; indices.includes(i))\n        var new_name = node_data['name'].filter((v,i) =&gt; indices.includes(i))\n        var new_parents = node_data['parents'].filter((v,i) =&gt; indices.includes(i))\n        var new_halting_point = node_data['halting_point'].filter((v,i) =&gt; indices.includes(i))\n        var new_branch = node_data['branch'].filter((v,i) =&gt; indices.includes(i))\n\n        let new_node_data = {}\n        new_node_data[base] = new_base\n        new_node_data[other] = new_other\n        new_node_data['index'] = new_index\n        new_node_data['name'] = new_name\n        new_node_data['parents'] = new_parents\n        new_node_data['halting_point'] = new_halting_point\n        new_node_data['branch'] = new_branch\n        new_node_data['selected'] = Array(new_name.length).fill(false)\n\n        var new_start = []\n        var new_end = []\n        for (i = 0; i &lt; edge_data['start'].length; i++) {\n            if (new_index.includes(edge_data['start'][i]) &amp;&amp;\n                new_index.includes(edge_data['end'][i])) {\n                    new_start.push(edge_data['start'][i])\n                    new_end.push(edge_data['end'][i])\n            }\n        }\n\n        let new_edge_data = {}\n        new_edge_data['start'] = new_start\n        new_edge_data['end'] = new_end\n        new_edge_data['line_width'] = Array(new_start.length).fill(3.0)\n\n        var branch_values = new_node_data['branch'].map((v,i,a) =&gt; a.indexOf(v) === i &amp;&amp; [v, []])\n        branch_values = branch_values.filter((v,i) =&gt; v)\n        var branch_mapping = Object.fromEntries(branch_values)\n        for (i = 0; i &lt; new_node_data['branch'].length; i++) {\n            branch = new_node_data['branch'][i]\n            index = new_node_data['index'][i]\n            branch_mapping[branch].push(index)\n            }\n\n        function linspace(length, start=-1, stop=1) {\n            var ret = [];\n            var step = (stop - start) / (length - 1);\n            for (var i = 0; i &lt; length; i++) {\n              ret.push(start + (step * i));\n                }\n            return ret;\n            }\n\n        for (const [ branch, indices ] of Object.entries(branch_mapping)) {\n            let branch_idx = y_pos.length - branch\n            let new_y_pos = y_pos[branch_idx]\n            indices.sort(function(a,b){\n                return new_node_data['round'][new_node_data['index'].indexOf(a)]-\n                new_node_data['round'][new_node_data['index'].indexOf(b)]\n                })\n            let x_pos = linspace(indices.length)\n            for (i = 0; i &lt; indices.length; i++) {\n                let index = indices[i]\n                let new_x_pos = x_pos[i]\n                graph.layout_provider.graph_layout[index][0] = new_x_pos\n                graph.layout_provider.graph_layout[index][1] = new_y_pos\n                }\n            }\n        graph.node_renderer.data_source.data = new_node_data\n        graph.edge_renderer.data_source.data = new_edge_data\n        "},"id":"1061","type":"CustomJS"},{"attributes":{"args":{"base":"round","data":[4,5,3,1,2],"edge_data":{"end":[0],"line_width":[3.0],"start":[2]},"graph":{"id":"1003","type":"GraphRenderer"},"node_data":{"branch":[2,2,1,1,1],"color":["red","red","green","green","green"],"halting_point":[true,true,false,false,false],"index":[0,1,2,3,4],"name":["1 | 1&lt;br&gt;3 | 3","1 | 1&lt;br&gt;2 | 2","1 | 1","3 | 3","2 | 2"],"parents":[[1,3],[2,3],[],[],[]],"price":[4,5,3,1,2],"round":[4,5,3,1,2],"selected":[false,false,false,false,false]},"other":"price","y_pos":[-1.0,1.0]},"code":"\n        var start = parseInt(cb_obj.value[0])\n        var end = parseInt(cb_obj.value[1])\n\n        function filtFunc(arr_value, arr_index, array) {\n                let value = data[arr_index]\n                if (value &gt;= start &amp;&amp; value &lt;= end) {\n                    return true\n                    }\n            }\n\n        function mapFunc(arr_value, arr_index, array) {\n                let value = data[arr_index]\n                if (value &gt;= start &amp;&amp; value &lt;= end) {\n                    return arr_index\n                }\n            }\n        var new_base = node_data[base].filter(filtFunc)\n        var indices = node_data[base].map(mapFunc)\n        var new_other = node_data[other].filter((v,i) =&gt; indices.includes(i))\n        var new_index = node_data['index'].filter((v,i) =&gt; indices.includes(i))\n        var new_name = node_data['name'].filter((v,i) =&gt; indices.includes(i))\n        var new_parents = node_data['parents'].filter((v,i) =&gt; indices.includes(i))\n        var new_halting_point = node_data['halting_point'].filter((v,i) =&gt; indices.includes(i))\n        var new_branch = node_data['branch'].filter((v,i) =&gt; indices.includes(i))\n\n        let new_node_data = {}\n        new_node_data[base] = new_base\n        new_node_data[other] = new_other\n        new_node_data['index'] = new_index\n        new_node_data['name'] = new_name\n        new_node_data['parents'] = new_parents\n        new_node_data['halting_point'] = new_halting_point\n        new_node_data['branch'] = new_branch\n        new_node_data['selected'] = Array(new_name.length).fill(false)\n\n        var new_start = []\n        var new_end = []\n        for (i = 0; i &lt; edge_data['start'].length; i++) {\n            if (new_index.includes(edge_data['start'][i]) &amp;&amp;\n                new_index.includes(edge_data['end'][i])) {\n                    new_start.push(edge_data['start'][i])\n                    new_end.push(edge_data['end'][i])\n            }\n        }\n\n        let new_edge_data = {}\n        new_edge_data['start'] = new_start\n        new_edge_data['end'] = new_end\n        new_edge_data['line_width'] = Array(new_start.length).fill(3.0)\n\n        var branch_values = new_node_data['branch'].map((v,i,a) =&gt; a.indexOf(v) === i &amp;&amp; [v, []])\n        branch_values = branch_values.filter((v,i) =&gt; v)\n        var branch_mapping = Object.fromEntries(branch_values)\n        for (i = 0; i &lt; new_node_data['branch'].length; i++) {\n            branch = new_node_data['branch'][i]\n            index = new_node_data['index'][i]\n            branch_mapping[branch].push(index)\n            }\n\n        function linspace(length, start=-1, stop=1) {\n            var ret = [];\n            var step = (stop - start) / (length - 1);\n            for (var i = 0; i &lt; length; i++) {\n              ret.push(start + (step * i));\n                }\n            return ret;\n            }\n\n        for (const [ branch, indices ] of Object.entries(branch_mapping)) {\n            let branch_idx = y_pos.length - branch\n            let new_y_pos = y_pos[branch_idx]\n            indices.sort(function(a,b){\n                return new_node_data['round'][new_node_data['index'].indexOf(a)]-\n                new_node_data['round'][new_node_data['index'].indexOf(b)]\n                })\n            let x_pos = linspace(indices.length)\n            for (i = 0; i &lt; indices.length; i++) {\n                let index = indices[i]\n                let new_x_pos = x_pos[i]\n                graph.layout_provider.graph_layout[index][0] = new_x_pos\n                graph.layout_provider.graph_layout[index][1] = new_y_pos\n                }\n            }\n        graph.node_renderer.data_source.data = new_node_data\n        graph.edge_renderer.data_source.data = new_edge_data\n        "},"id":"1063","type":"CustomJS"},{"attributes":{"callback":null,"end":5.0,"js_property_callbacks":{"change:value":[{"id":"1061","type":"CustomJS"}]},"start":1.0,"step":0.08,"title":"Price","value":[1.0,5.0]},"id":"1062","type":"RangeSlider"},{"attributes":{"args":{"edge_data":{"end":[0],"line_width":[3.0],"start":[2]},"graph":{"id":"1003","type":"GraphRenderer"},"node_data":{"branch":[2,2,1,1,1],"color":["red","red","green","green","green"],"halting_point":[true,true,false,false,false],"index":[0,1,2,3,4],"name":["1 | 1&lt;br&gt;3 | 3","1 | 1&lt;br&gt;2 | 2","1 | 1","3 | 3","2 | 2"],"parents":[[1,3],[2,3],[],[],[]],"price":[4,5,3,1,2],"round":[4,5,3,1,2],"selected":[false,false,false,false,false]}},"code":"\n            const index = cb_data.source.selected.indices[0]\n            if (node_data['index'].length !== graph.node_renderer.data_source.data['index'].length) {\n                    return\n                }\n            else if (graph.node_renderer.data_source.data['selected'][index] &amp;&amp; true) {\n                graph.node_renderer.data_source.data = {...node_data}\n                graph.edge_renderer.data_source.data = {...edge_data}\n                }\n            else {\n                var parents = node_data['parents'][index]\n                parents = parents.filter((v,i) =&gt; node_data['round'].includes(v))\n                var parents_index = parents.map((v,i) =&gt; {\n                    const idx = node_data['round'].indexOf(v)\n                    return node_data['index'][idx]\n                    })\n\n                var new_start = []\n                var new_end = []\n                for (p = 0; p &lt; parents_index.length; p++) {\n                    new_start.push(index)\n                    new_end.push(parents_index[p])\n                }\n                var new_data = {}\n                new_data['start'] = edge_data['start'].concat(new_start)\n                new_data['end'] = edge_data['end'].concat(new_end)\n                new_data['line_width'] = edge_data['line_width'].concat(Array(new_start.length).fill(0.5))\n                graph.node_renderer.data_source.data['selected'] = Array(graph.node_renderer.data_source.data['selected'].length).fill(false)\n                graph.node_renderer.data_source.data['selected'][index] = true\n                graph.edge_renderer.data_source.data = new_data\n            }\n        "},"id":"1065","type":"CustomJS"},{"attributes":{"callback":null,"end":5,"js_property_callbacks":{"change:value":[{"id":"1063","type":"CustomJS"}]},"start":1,"title":"Round","value":[1,5]},"id":"1064","type":"RangeSlider"},{"attributes":{"callback":null,"end":1.1,"start":-1.1},"id":"1067","type":"Range1d"},{"attributes":{"callback":null,"end":1.1,"start":-1.1},"id":"1066","type":"Range1d"},{"attributes":{"axis_label":"Round","formatter":{"id":"1181","type":"BasicTickFormatter"},"ticker":{"id":"1129","type":"BasicTicker"}},"id":"1128","type":"LinearAxis"},{"attributes":{},"id":"1129","type":"BasicTicker"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1072","type":"HoverTool"},{"id":"1073","type":"TapTool"},{"id":"1074","type":"BoxSelectTool"},{"id":"1075","type":"ZoomInTool"},{"id":"1076","type":"ZoomOutTool"},{"id":"1077","type":"BoxZoomTool"},{"id":"1078","type":"ResetTool"},{"id":"1079","type":"WheelZoomTool"},{"id":"1080","type":"WheelPanTool"},{"id":"1081","type":"WheelPanTool"}]},"id":"1082","type":"Toolbar"},{"attributes":{"dimension":"height"},"id":"1081","type":"WheelPanTool"},{"attributes":{},"id":"1080","type":"WheelPanTool"},{"attributes":{"callback":null},"id":"1120","type":"DataRange1d"},{"attributes":{"callback":null},"id":"1122","type":"DataRange1d"},{"attributes":{},"id":"1124","type":"LinearScale"},{"attributes":{},"id":"1126","type":"LinearScale"},{"attributes":{"graph_layout":{"0":[-1.0,-1.0],"1":[1.0,-1.0],"2":[1.0,1.0],"3":[-1.0,1.0],"4":[0.0,1.0]}},"id":"1016","type":"StaticLayoutProvider"},{"attributes":{"data_source":{"id":"1009","type":"ColumnDataSource"},"glyph":{"id":"1114","type":"MultiLine"},"hover_glyph":null,"muted_glyph":null,"view":{"id":"1011","type":"CDSView"}},"id":"1010","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1009","type":"ColumnDataSource"}},"id":"1011","type":"CDSView"},{"attributes":{},"id":"1139","type":"WheelZoomTool"},{"attributes":{},"id":"1138","type":"PanTool"},{"attributes":{"axis_label":"Price","formatter":{"id":"1183","type":"BasicTickFormatter"},"ticker":{"id":"1134","type":"BasicTicker"}},"id":"1133","type":"LinearAxis"},{"attributes":{"ticker":{"id":"1129","type":"BasicTicker"}},"id":"1132","type":"Grid"},{"attributes":{"dimension":1,"ticker":{"id":"1134","type":"BasicTicker"}},"id":"1137","type":"Grid"},{"attributes":{},"id":"1134","type":"BasicTicker"},{"attributes":{"callback":null,"data":{"end":[0],"line_width":[3.0],"start":[2]},"selected":{"id":"1193","type":"Selection"},"selection_policy":{"id":"1194","type":"UnionRenderers"}},"id":"1009","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1005","type":"ColumnDataSource"}},"id":"1007","type":"CDSView"},{"attributes":{"data_source":{"id":"1005","type":"ColumnDataSource"},"glyph":{"id":"1099","type":"Circle"},"hover_glyph":{"id":"1109","type":"Circle"},"muted_glyph":null,"selection_glyph":{"id":"1104","type":"Circle"},"view":{"id":"1007","type":"CDSView"}},"id":"1006","type":"GlyphRenderer"},{"attributes":{"callback":null,"data":{"branch":[2,2,1,1,1],"color":["red","red","green","green","green"],"halting_point":[true,true,false,false,false],"index":[0,1,2,3,4],"name":["1 | 1&lt;br&gt;3 | 3","1 | 1&lt;br&gt;2 | 2","1 | 1","3 | 3","2 | 2"],"parents":[[1,3],[2,3],[],[],[]],"price":[4,5,3,1,2],"round":[4,5,3,1,2],"selected":[false,false,false,false,false]},"selected":{"id":"1186","type":"Selection"},"selection_policy":{"id":"1187","type":"UnionRenderers"}},"id":"1005","type":"ColumnDataSource"},{"attributes":{"edge_renderer":{"id":"1010","type":"GlyphRenderer"},"inspection_policy":{"id":"1170","type":"NodesOnly"},"layout_provider":{"id":"1016","type":"StaticLayoutProvider"},"node_renderer":{"id":"1006","type":"GlyphRenderer"},"selection_policy":{"id":"1092","type":"NodesAndLinkedEdges"}},"id":"1003","type":"GraphRenderer"},{"attributes":{},"id":"1188","type":"Selection"},{"attributes":{},"id":"1189","type":"UnionRenderers"},{"attributes":{},"id":"1186","type":"Selection"},{"attributes":{},"id":"1187","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1184","type":"BoxAnnotation"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1185","type":"BoxAnnotation"},{"attributes":{},"id":"1183","type":"BasicTickFormatter"},{"attributes":{},"id":"1181","type":"BasicTickFormatter"},{"attributes":{"fill_color":{"value":"#fdae61"},"size":{"units":"screen","value":30}},"id":"1104","type":"Circle"},{"attributes":{"fill_color":{"value":"#abdda4"},"size":{"units":"screen","value":30}},"id":"1109","type":"Circle"},{"attributes":{},"id":"1165","type":"LinearScale"},{"attributes":{},"id":"1167","type":"LinearScale"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1160","type":"Line"},{"attributes":{"data_source":{"id":"1158","type":"ColumnDataSource"},"glyph":{"id":"1159","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1160","type":"Line"},"selection_glyph":null,"view":{"id":"1162","type":"CDSView"}},"id":"1161","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1158","type":"ColumnDataSource"}},"id":"1162","type":"CDSView"},{"attributes":{"children":[{"id":"1068","type":"Plot"},{"id":"1062","type":"RangeSlider"},{"id":"1064","type":"RangeSlider"},{"id":"1119","subtype":"Figure","type":"Plot"}]},"id":"1163","type":"Column"},{"attributes":{"text":""},"id":"1169","type":"Title"},{"attributes":{"args":{"provider":{"id":"1016","type":"StaticLayoutProvider"}},"v_func":"\n            var result = new Float64Array(xs.length)\n            for (var i = 0; i &lt; xs.length; i++) {\n                result[i] = provider.graph_layout[xs[i]][0]\n            }\n            return result\n            "},"id":"1053","type":"CustomJSTransform"},{"attributes":{"args":{"provider":{"id":"1016","type":"StaticLayoutProvider"}},"v_func":"\n            var result = new Float64Array(xs.length)\n            for (var i = 0; i &lt; xs.length; i++) {\n                result[i] = provider.graph_layout[xs[i]][1]\n            }\n            return result\n            "},"id":"1054","type":"CustomJSTransform"},{"attributes":{},"id":"1191","type":"UnionRenderers"},{"attributes":{},"id":"1190","type":"Selection"},{"attributes":{},"id":"1193","type":"Selection"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1192","type":"BoxAnnotation"},{"attributes":{},"id":"1194","type":"UnionRenderers"},{"attributes":{"line_alpha":{"value":0.8},"line_color":{"value":"Black"},"line_width":{"field":"line_width"}},"id":"1114","type":"MultiLine"},{"attributes":{"below":[{"id":"1128","type":"LinearAxis"}],"center":[{"id":"1132","type":"Grid"},{"id":"1137","type":"Grid"}],"left":[{"id":"1133","type":"LinearAxis"}],"plot_height":350,"plot_width":1000,"renderers":[{"id":"1156","type":"GlyphRenderer"},{"id":"1161","type":"GlyphRenderer"}],"title":{"id":"1169","type":"Title"},"toolbar":{"id":"1145","type":"Toolbar"},"x_range":{"id":"1120","type":"DataRange1d"},"x_scale":{"id":"1124","type":"LinearScale"},"y_range":{"id":"1122","type":"DataRange1d"},"y_scale":{"id":"1126","type":"LinearScale"}},"id":"1119","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1170","type":"NodesOnly"},{"attributes":{},"id":"1179","type":"BasicTickFormatter"},{"attributes":{"background_fill_color":{"value":"white"},"source":{"id":"1005","type":"ColumnDataSource"},"text":{"field":"round"},"text_color":{"value":"black"},"text_font_size":{"value":"8px"},"x":{"field":"index","transform":{"id":"1053","type":"CustomJSTransform"}},"x_offset":{"value":-5},"y":{"field":"index","transform":{"id":"1054","type":"CustomJSTransform"}},"y_offset":{"value":-5}},"id":"1059","type":"LabelSet"}],"root_ids":["1163"]},"title":"Bokeh Application","version":"1.4.0"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('1525').textContent;
                  var render_items = [{"docid":"190c49a1-06e1-4867-9c41-e224acda0524","roots":{"1163":"1e2e2519-c198-4b0c-a5d8-463e12e993ce"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>